
# üêû Quick Bug Reporter Server

–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø–ª–∞–≥–∏–Ω–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç–∏–Ω–≥–∞. –≠—Ç–æ—Ç Node.js —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ (–≤–∫–ª—é—á–∞—è —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∏ –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é) –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–æ–∑–¥–∞–µ—Ç –±–∞–≥-—Ä–µ–ø–æ—Ä—Ç—ã –≤ –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–µ.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü—Ä–∏—ë–º –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (actual/expected)
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –≤ –Ø–Ω–¥–µ–∫—Å.–¢—Ä–µ–∫–µ—Ä–µ —á–µ—Ä–µ–∑ API
- JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ refresh/access —Ç–æ–∫–µ–Ω–æ–≤
- Email-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ MongoDB
- CORS-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å –±–µ–ª—ã–º —Å–ø–∏—Å–∫–æ–º

---

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
git clone https://github.com/yourname/bug-reporter-server.git
cd bug-reporter-server
```

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```env
PORT=3000
DB_URL=mongodb://localhost:27017/bugreporter
JWT_ACCESS_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç
JWT_REFRESH_SECRET=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç
CLIENT_URL=http://localhost:3000,http://127.0.0.1:3000
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=example@yandex.ru
SMTP_PASSWORD=–ø–∞—Ä–æ–ª—å
API_TOKEN_YANDEX_TRACKER=—Ç–æ–∫–µ–Ω_—Ç—Ä–µ–∫–µ—Ä–∞
ORG_ID_YANDEX_TRACKER=–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è_ID
QUEUE_ID_YANDEX_TRACKER=ID_–æ—á–µ—Ä–µ–¥–∏
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run start
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
plugin-serv-main/
‚îú‚îÄ‚îÄ controllers/        # –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îú‚îÄ‚îÄ dtos/               # –û–±—ä–µ–∫—Ç—ã –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ middlewares/        # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ models/             # Mongoose –º–æ–¥–µ–ª–∏ (User, Token)
‚îú‚îÄ‚îÄ router/             # –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îú‚îÄ‚îÄ services/           # –õ–æ–≥–∏–∫–∞ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (email, user, tracker)
‚îú‚îÄ‚îÄ utils/              # –£—Ç–∏–ª–∏—Ç—ã (email-–æ—Ç–ø—Ä–∞–≤–∫–∞, UUID)
‚îú‚îÄ‚îÄ index.js            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ .env                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ package.json
```

---

## üîå API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

### `POST /api/bug`
–°–æ–∑–¥–∞–Ω–∏–µ –±–∞–≥–∞

**–§–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞ (multipart/form-data):**
- actualImg: —Ñ–∞–π–ª
- expectedImg: —Ñ–∞–π–ª
- url: —Å—Ç—Ä–æ–∫–∞
- xpath: —Å—Ç—Ä–æ–∫–∞
- browser: —Å—Ç—Ä–æ–∫–∞
- browserVersion: —Å—Ç—Ä–æ–∫–∞
- comment: —Å—Ç—Ä–æ–∫–∞

---

### `POST /api/registration`
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### `POST /api/login`
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

### `POST /api/logout`
–í—ã—Ö–æ–¥

### `GET /api/activate/:link`
–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ email

### `GET /api/refresh`
–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞

---

## üß† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** + **Express** ‚Äî —Å–µ—Ä–≤–µ—Ä
- **MongoDB** + **Mongoose** ‚Äî –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** ‚Äî –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Nodemailer** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ email
- **Yandex Tracker API** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á
- **dotenv** ‚Äî –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **CORS** ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –¥–æ–º–µ–Ω–æ–≤
- **uuid**, **express-validator**, **bcryptjs**, **multer**

---

## üí° –°–æ–≤–µ—Ç—ã –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Postman –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ API
- –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ (`console.log`)
- –í—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ `error-middleware.js`
- API –¢—Ä–µ–∫–µ—Ä–∞ —Ç—Ä–µ–±—É–µ—Ç —Ç–æ–∫–µ–Ω –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—á–µ—Ä–µ–¥–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

